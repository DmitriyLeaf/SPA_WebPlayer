<html py:extends="master.xhtml" py:strip="True">
    <head py:block="head" py:strip="True">
        <title py:block="master_title">Player</title>
        <link rel="stylesheet" type="text/css" media="screen" href="${tg.url('/css/player.css')}" />
    </head>

    <body py:block="body" py:strip="True">
      <div class="row">
        <div class="col-md-12">
          <h2>Player</h2>
          <p>
            Simple HTML5 Player
          </p>
        </div>
      </div>
      <audio id="music" preload="none">
        <source src="${tg.url('/music/' + str(sound.data))}" />
        Error!
      </audio>
      <div class="row">
        <div id="player">
          <div id="info">
            <h4>${sound.sound_name}</h4>
            <h5>Artist: ${sound.artist}</h5>
            <h5>Url: ${'/music/' + str(sound.data)}</h5>
          </div>
          <div id="audioplayer">
            <form id="previousForm" method="post" action="player/previous_button">
              <input type="hidden" name="current_time" id="current_time"/>
              <button id="previous" class="btn btn-secondary">${h.icon('backward')}</button>
            </form>
            <button id="pButton" class="btn btn-success">${h.icon(icon)}</button> 
            <form id="nextForm" method="post" action="player/ne+xt_button">
              <input type="hidden" name="current_time" id="current_time"/>
              <button id="next" class="btn btn-secondary" type="submit">${h.icon('forward')}</button>
            </form>
            <button id="stop" class="btn btn-dark">${h.icon('stop')}</button>
            <div id="timeline">
              <div id="playhead"></div>
            </div>
          </div>
        </div> 
      </div> <!-- Player -->

      ${icon = <var id="icon"></var>}
      ${h.icon(icon)}
      <div id="icon"></div>
      ${h.icon(<a id="current_time"></a>)}

      <br />
      <!--p>Test player</p>
      <audio controls="controls" preload="none">
        <source src="${tg.url('/music/' + str(sound.data))}" />
        Error!
      </audio-->

      <script src="${tg.url('/javascript/player.js')}" type="text/javascript"></script>

    </body>
</html>
